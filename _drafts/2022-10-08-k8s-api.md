layout: post
title: "Kubernetes 常用API介绍"
date: 2022-09-10 10:10:00 +0800
categories: tech

## Kubernetes简介

Kubernetes是一个可移植、可扩展的开源平台，用于管理容器化的工作负载和服务，可促进声明式配置和自动化。支持服务发现和负载均衡、存储编排、自动部署和回滚、自动完成装箱计算、自我修复、秘钥配置和管理等

## Kubernetes基本概念
- Pod
  Pod是Kubernetes中创建、管理的最小可部署单元。Pod是一组容器，这些容器共享网络、存储、以及运行声明。Pod中的内容总是并置并且一起调度，在共享上下文中运行。通常不需要直接创建、一般通过Deployment或者Job这类工作负载创建。
- Deployment
- Service
- Kubernetes api
  Kubernetes api是通过HTTP提供的基于资源的（Restful）编程接口。它支持通过标准HTTP动词（POST、PUT、DELETE、GET）检索、创建、更新和删除主要资源。

## Kubernetes架构

## 常用api接口

#### workload

- 查询指定Pod
  GET /api/v1/namespaces/{namespace}/pods/{name}
- 查询指定Pod信息
  GET /api/v1/namespaces/{namespace}/pods/{name}/log
  查询参数：container 等
- 查询指定Pod状态
  GET /api/v1/namespaces/{namespace}/pods/{name}/status
- 查询或观察Pod列表
  GET /api/v1/namespaces/{namespace}/pods
  查询参数：fieldSelector、labelSelector 、limit 、watch 等
- 创建Pod
  POST /api/v1/namespaces/{namespace}/pods
  body: Pod对象
- 替换指定Pod
  PUT /api/v1/namespaces/{namespace}/pods/{name}
  body：Pod对象
- 删除Pod
  DELETE /api/v1/namespaces/{namespace}/pods/{name}
  body：DeleteOptions对象
- 删除Pod集合
  DELETE /api/v1/namespaces/{namespace}/pods
  body：DeleteOptions对象
  查询参数：fieldSelector 、labelSelector、gracePeriodSeconds 等
